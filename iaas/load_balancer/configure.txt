# (optional - install ModSecurity Apache module)
sudo apt install -y libapache2-mod-security2
# Hit this to verify at least the 2.9 version:
# apt-cache show libapache2-mod-security2 | grep -E '(Version|Package)'

# Restart the apache server
sudo systemctl restart apache2

# You could also configure ModSecurity to do other stuff - we won't cover it

# Enable the modules in userdata_loadbalancer.txt

# Hit this to verify that they're enabled:
# apache2ctl -M | grep 'proxy\|lbmethod'

# Write a config file loadbalancer.conf

# Write a new configuration file for the lightweight monitor

#########################################################################
#									#
# ALL THE PREVIOUS STEPS WILL BE AUTOMATED. FROM NOW ON IT'S UP TO YOU. #
#									#
#########################################################################

# To setup a password:
  - sudo touch /etc/apache2/htpasswd
  - sudo sudo htpasswd -c /etc/apache2/htpasswd admin

# Replace admin with an obscure name. It will then ask to insert a password twice
# Now to access /site/lb-manager a password will be requested

# TODO you could change the index.html at /var/www/html/index.html with something else
